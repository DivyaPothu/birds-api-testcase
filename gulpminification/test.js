var chai=require("chai"),chaiHttp=require("chai-http"),server=require("./server").default,should=require("should"),should=chai.should();chai.use(chaiHttp),describe("Empty the databse",()=>{beforeEach(t=>{ddoekvsmvbt4bm.remove({},e=>{t()})})}),it("display hello",function(t){chai.request("http://localhost:8086").get("/").end(function(e,i){i.should.have.status(200),t()})}),describe("Get Api",function(){it("display details of bird",function(t){chai.request("http://localhost:8086/Get").get("/").end(function(e,i){i.should.have.status(200),t()})})}),describe("Post api",function(){it("should add a bird into databse POST",function(t){chai.request("http://localhost:8086/Postbird").post("/").send({id:"2",name:"Peacock",family:"peacockfamily",continents:"us",added:"10-3-2017",visible:"true"}).end(function(e,i){i.should.have.status(200),t()})})}),describe("Post api without data",function(){it("should not add a bird into databse",function(t){chai.request("http://localhost:8086/Postbird").post("/").send({id:"2",name:"",family:"peacockfamily",continents:"us",added:"10-3-2017",visible:"true"}).end(function(e,i){i.should.have.status(400),t()})})}),describe("Put api",function(){it("should update a bird details in databse",function(t){chai.request("http://localhost:8086/Putbird").put("/").send({id:"1",name:"sparrow"}).end(function(e,i){i.should.have.status(200),t()})})}),describe("Put api without input",function(){it("should not update a bird details in databse",function(t){chai.request("http://localhost:8086/Putbird").put("/").send({id:"",name:"sparrow"}).end(function(e,i){i.should.have.status(404),t()})})}),describe("Delete api with id",function(){it("should delete a bird from database",function(t){chai.request("http://localhost:8086/Deletebird").delete("/").send({id:"2"}).end(function(e,i){i.should.have.status(200),t()})})}),describe("Delete api with out id",function(){it("should not delete a bird from database",function(t){chai.request("http://localhost:8086/Deletebird").delete("/").send({id:""}).end(function(e,i){i.should.have.status(404),t()})})});